#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-commit checks..."
echo ""

# Run type checking
echo "ğŸ“˜ TypeScript type checking..."
npx tsc --noEmit
if [ $? -ne 0 ]; then
  echo "âŒ TypeScript errors found. Commit aborted."
  echo "Fix type errors and try again."
  exit 1
fi
echo "âœ… TypeScript: No errors"
echo ""

# Run linting on staged files
echo "ğŸ”§ Running ESLint on staged files..."
npx --no lint-staged
if [ $? -ne 0 ]; then
  echo "âŒ Linting errors found. Commit aborted."
  echo "Fix linting errors and try again."
  exit 1
fi
echo "âœ… Linting: Passed"
echo ""

echo "âœ¨ All checks passed! Proceeding with commit..."
